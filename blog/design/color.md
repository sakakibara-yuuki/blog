---
title: '色相環について'
author: "sakakibara"
description: 'Lorem ipsum dolor sit amet'
heroImage: '/blog-placeholder-3.jpg'
pubDate: 2025-10-23
tags: ["design", "color"]
---

# Introduction
カラーホイールを見たことがあるだろうか。色が付いた円盤であり、中心が白、外側では濃い色が付いている。
この円盤から中心を同じくする円を取り出したとする。その円は色相環と呼ばれる。
今回は色相環について話そうと思う。

## Contents
## 色
ニュートンの光学の研究以来、色とは光であり、光はいくつかのスペクトルとよばれる基本的な光に分解できることが知られている。
そして光とは極論、電磁波であり、簡単なモデルとして、光はスペクトルの周波数とその大きさで表される。
例えば、光を$E$とすると、
$$
E = a_0f_0 + a_1f_1 + \cdots
$$
のように表せる。ここで、$f_0, f_1, \cdots$はスペクトルの周波数であり、$a_0, a_1, \ldots$は各スペクトル周波数の大きさを表している。

人の目はR, G, Bの3つの色を強く感じるらしいので、それらに対応するスペクトルの周波数を$f_r, f_b, f_g$とすると
$$
E \simeq rf_r + gf_g + bf_b
$$
のように表せられる。
ここから、その係数を取り出して$(r, g, b)$集めたものをRGB空間と呼ぼう。

これは非常にわかりやすいが、実用的では無い。
というのも、デザインを考える上で色について
- 明度
- 彩度
- 色相

の３つの要素について着目することが多い。
しかし、$(r, g, b)$ではそれぞれの要素が明度・彩度・色相にどのように影響するかが自明では無いからだ。

そこで、色相環というものが考えられている。

## 色相環

$(r, g, b)$では実用的ではないので別の形式へ変換したい。できれば
- 明度
- 彩度
- 色相

をそれぞれの要素にもつと使いやすいだろう。
そこで、カラーホイールというものが考えられている。
色相環とは一定の明度の元で、彩度、色相の組を円盤にしたものである。

これは円筒座標系におけるz軸を明度、$r$, $\theta$に彩度、色相を割り当てることを目的としている。

ではどのように$(r, g, b)$から新しい形式へ変換されるのだろうか。
実は、変換の方法は一意ではない(明度・彩度・色相の定義そのものにばらつきがある)。
そこで、自分が考える最もシンプルな方法を説明する。

$x^3=1$の解をそれぞれ、$1, \omega, \bar{\omega}$とする。
そして、以下のような変換を考える。

$$
\begin{array}{rccc}
\phi \colon & RGB   &\longrightarrow   &\mathbb{C} \\
     & (r, g, b)    &\longmapsto       &r + g\omega + b\bar{\omega}
\end{array}
$$

この変換はRGB空間の元をそのまま$\mathbb{C}$へ写さない。
言い換えれば、この写像は全単射ではない。
しかし、この写像$\phi$は全射であり、明らかに線形写像である。

次元定理より

$$
\dim (RGB) = \dim (\mathrm{Im}(\phi)) + \dim (\mathrm{Ker}(\phi))
$$

である。
$\dim (RGB) = 3, \dim (\mathrm{Im}(\phi)) = 2$ であるため、$\dim (\mathrm{Ker}(\phi)) = 1$となる。

ところで、
$$
1 + \omega + \bar{\omega} = 0
$$
であることから、明らかに$(1, 1, 1) \in \mathrm{Ker}(\phi)$である。
このこと、$\dim (\mathrm{Ker}(\phi)) = 1$であることから、
$\mathrm{Ker}(\phi) = \{ (l, l, l) | l \in \mathbb{Z} \}$である。
つまり、灰色や黒、白などの無彩色が$\mathrm{Ker}(\phi)$に属する。
$\mathrm{Ker}(\phi)$に属する元を**無彩色ベクトル**と呼ぼう。

これによって、RGB空間から新しい表現への変換$d\otimes \phi$が得られる。
$$
d\otimes \phi: (r, g, b) \mapsto (\frac{r + g + b}{3}, r + g\omega + b\bar{\omega})
$$

実際にやってみよう。
$\bm{a} = (r, g, b)$ とする。
$\mathrm{Ker}(\phi)$の標準基底として$\bm{l}_e = (1/3, 1/3, 1/3)$を取る。
$\bm{a}$を$\bm{l}_e$でグラムシュミットして$\bm{a} - (\bm{a}\cdot\bm{l}_e)\bm{l}_e$を得る。
$(\bm{a}\cdot\bm{l}_e)\bm{l}_e \in \mathrm{Ker}(\phi)$なので、
$$
(d\otimes \phi)(\bm{a}) = (\bm{a}\cdot\bm{l}_e, \phi(\bm{a}))
$$
となる。
これは全単射になる。

この第一要素はR,G,Bの平均であり$l = \bm{a}\cdot\bm{l}_e$として表すことにする。
また、第二要素を$\phi(\bm{a})=se^{ih}$として表すことにする。
すると、
$$
(d\otimes \phi)(\bm{a}) = (l, se^{ih})
$$
のように表すことができる。
$l$は**明度**、$s$は**彩度**、$h$を**色相**と呼ぶ。

以上により、明度、彩度、色相を表現する(使いやすい？)空間を構成することができた。
ここでは便宜的に$\mathrm{Ker}(\phi)\times \mathrm{Im}(\phi)$を$\phi$空間と呼ぶことにしよう。

$l$を軸に$(s, h)$の円盤を考えた円筒形のモデルが頭に浮かぶだろうか。
$\mathrm{Ker}(\phi)$が高さで$\mathrm{Im}(\phi)$の円盤を底辺とする円筒である。
これを$\phi$円筒モデルとよぶことにしよう。

$\phi$円筒モデルで$l$の高さを固定とし、$\mathrm{Im}(\phi)$の円盤を取り出す。
そこで、そこから$s$を固定すると、円を得る。
これを**色相環**と呼ぶ。

## デザインと$\phi$空間

デザインでは
- 明度
- 彩度
- 色相

に注目するという話は既にしたと思う。

明度を固定して、近しい彩度、色相を集めたものを**トーン**というらしいが、これはほとんど色相環である。
どのトーンをつかうかは$\phi$円筒からどの色相環を取り出すかという話である。

デザインをする上で一般に、同じトーンの中から配色を探したほうがいいと言われることがある。(類似色)
つまり、$\phi$円筒から色相環を一つ取り出して、その中から色を選択して配色を行えというアドバイスである。

なるほど、たしかに明度、彩度を揃える色から選択して配色することでデザインに統一感があるように感じられるだろう。

ただ、背景や文字の色に黒や白なども使いたいんだけど黒や白は同じ色相環に含まれることはないからこのアドバイスは誤りではないかと思われるかもしれない。

そのとおりであり、無彩色ベクトルは別で用意していい。

無彩色ベクトルと色相環上の色は互いに直交するというモデル上の考察と無彩色ベクトルと色相環を使うことで統一感のあるデザインができるという事実は数式と芸術の対応ができていて非常に美しいし実用的である。

プライマリーカラー・セカンダリーカラー・ターシャリーカラーを選択して使い分けるというデザイン上のアドバイスも聞いたことがあるかもしれない。

これは明度の異なる色相環P, S, Tを選んで
$$
T < P < S
$$
となるように明度に対して順序をつけたものである。

先ほど無彩色ベクトルを背景や文字に使うと述べたが、実際には真っ黒や真っ白を使うケースはそこまで無い。無彩色ベクトルに内積的な距離が近いベクトルを選択することが多い。

ここで示したRGB空間から$\phi$空間の構築法は自分のオリジナルであり、実際に使われている$HSL$や$HSV/HSB$、$LCH$などとは異なる。それらはもっと複雑な操作をしている。
そのため、これがそのまま使えるわけでは無いが、まぁ、他の色空間についてもだいたい同じような空間であると考えても問題はないだろう。(特に$HSL$, $HSV/HSB$などは)


## 参考

ここまでの記事は昨日シャワーを浴びてる際に考えた内容なので正確性は保証しない。
後々になって少し検索してみるとQiitaに色空間というものについて詳しく書いてる人がいた。
色彩光学という分野があるらしい。
なにやらとても複雑な計算がされてある。
こんな細かいところまで研究されてるんだなぁ。

- [Qiita XYZ色空間](https://qiita.com/Ushio/items/203f16ad1e23fd42231c)
- [Color Space - MDN](https://developer.mozilla.org/ja/docs/Glossary/Color_space)
- [Color Space - book ](https://ericportis.com/posts/2024/okay-color-spaces/)

